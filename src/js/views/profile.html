<!DOCTYPE html>

<div class="columns">
  <div class="column is-4 is-offset-2">
    <h1 class="title">Your Profile</h1>
    <img class="image" ng-src="{{ usersShow.user.image }}" alt="usersShow.user.username">
    <h2>{{ usersShow.user.username }}</h2>
    <p class="title is-4" ng-if="usersShow.user.firstname">{{ usersShow.user.firstname }}</p>
    <p class="title is-4" ng-if="usersShow.user.lastname">{{ usersShow.user.lastname }}</p>
    <a href="mailto:{{ usersShow.user.email }}" ng-if="profile.user.email">{{ usersShow.user.email }}</a>
    <p ng-if="usersShow.user.facebookId">Facebook Id: <strong>{{ usersShow.user.facebookId }}</strong></p>
    <p ng-if="usersShow.user.instagramId">Instagram Id: <strong>{{ usersShow.user.instagramId }}</strong></p>

  </div>

</div>

<!-- comments test -->
<div class="comments">
  <h2>Comments</h2>
  <ul >
    <li ng-repeat="comment in usersShow.user.comments track by $index">
      <strong>{{ comment.createdBy.username }}</strong> - {{ comment.text }}
      <!-- comments delete button -->
      <button type="button" name="button" class="button" ng-if="main.isAuthenticated() && main.currentUserId === comment.createdBy.id" ng-click="usersShow.deleteComment(comment)">Delete</button>
    </li>
    <form ng-submit="usersShow.addComment()" ng-if="main.isAuthenticated()">
      <label>Add comment</label>
      <textarea ng-model="usersShow.newComment.text"></textarea>
      <button class="button button--full">Comment</button>

    </form>

  </ul>

</div>
<div class="columns is-multiline">
  <!-- user campaigns -->
  <div class="column is-4 is-offset-2" ng-repeat="campaign in usersShow.user.campaigns">
    <div >
      <p>
        <strong>{{ campaign.name }}</strong>
      </p>
      <p>
        <strong>{{ campaign.address }}</strong>
      </p>
      <p>
        {{ campaign.description }}
      </p>

    </div>

  </div>
</div>
